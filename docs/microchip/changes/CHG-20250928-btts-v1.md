# CHG-20250928-btts-v1 â€“ Deterministic BTTS v1 analysis

## Why
- Add a deterministic BTTS v1 analysis path with strict JSON output to power the BTTS app quickly and cheaply.
- Surface BTTS reasoning and avoid flags in cached badge payloads for richer UI cards.

## Impacted Micro-cells
- CELL_BACKEND_AI
- CELL_BACKEND_API

## Contract Changes
- Before: AI analysis only available via LLM prompt versions (e.g. v1/live-v1).
- After: `run_ai_analysis` supports `prompt_version` with a deterministic `btts-v1` branch that returns a strict `{ "btts": ... }` block.

## Migration Plan
- Deploy backend with deterministic BTTS v1 support.
- Update BTTS clients to call the existing AI analysis route with `prompt_version=btts-v1` and consume `btts` output.

## Rollback Plan
- Revert the deterministic BTTS v1 path and badge fields.
- Continue using existing LLM-based AI analysis only.
